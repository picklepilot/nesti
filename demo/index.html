<!DOCTYPE html>
<html>
	<head>
		<title>Nesti</title>
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
		<script src="../node_modules/jquery/dist/jquery.min.js"></script>
		<script src="../src/jquery.nesti.js"></script>
	</head>
	<body>

		<div style="background: #ededed; max-width: 350px; height: 250px; overflow: scroll; margin-bottom: 30px;">
			<ul id="list" style="padding: 10px; padding-top: 0;">
				<li>
					<input type="checkbox" data-value="Coffee"> <label>Coffee</label>
				</li>
				<li>
					<i class="fas fa-minus text-small"></i>
					<input type="checkbox" data-value="Tea"> <label>Tea</label>
					<ul>
						<li>
							<i class="fas fa-minus text-small"></i>
							<input type="checkbox" data-value="Stinker pot"> <label>Black tea</label>
							<ul>
								<li><input type="checkbox" data-value="Black tea"> <label>Black tea</label></li>
								<li><input type="checkbox" data-value="Green tea"> <label>Green tea</label></li>
							</ul>
						</li>
						<li>
							<input type="checkbox" data-value="Green tea"> <label>Green tea</label>
						</li>
					</ul>
				</li>
				<li>
					<input type="checkbox" data-value="Milk"> <label>Milk</label>
				</li>
			</ul>

		</div>

		<div style="background: #293751; color: white; max-width: 350px; height: 250px; overflow: scroll;">
			<ul id="list2" style="padding: 10px; padding-top: 0;"></ul>
			<a href="javascript:void(0);" onclick="$('#list2').nesti('api.reset')">Reset</a>
		</div>



		<script>
			$(function() {

				$("#list2").nesti({
					filterable: true,
					filter: {
						css: {
							position: 'sticky',
							top: 0,
							width: '100%',
							padding: '10px 10px',
							border: 'none',
							background: '#15263d',
							color: '#fff'
						}
					},
					listItem: {
						css: {
							borderBottom: '1px solid rgba(0,0,0,.25)',
							padding: '4px 0'
						}
					},
					collapse: {
						enabled: true,
						template: ""
					},
					onChange: () => {
						console.log('Collected..', $('#list2').nesti('api.collect'));
					}
				});

				$("#list").nesti({
					filterable: true,
					filter: {
						css: {
							position: 'sticky',
							top: 0,
							width: '100%',
							padding: '10px 10px',
							border: 'none',
							background: '#dddddd'
						}
					},
					listItem: {
						css: {
							borderBottom: '1px solid rgba(0,0,0,.25)',
							padding: '4px 0'
						}
					},
					onChange: () => {
						console.log('DO THINGS!');
					}
				});


				$("#list2").nesti("api.buildList", [
					{
						label: "Apple",
						value: "apple",
						items: [
							{
								label: "Cookie",
								value: "cookie",
								items: [
									{
										label: "Donut",
										value: "donut",
										items: [
											{
												label: "Donut",
												value: "donut",
												items: null
											}
										]
									}
								]
							},
							{
								label: "Eggroll",
								value: "eggroll",
								items: [
									{
										label: "Donut",
										value: "donut",
										items: null
									}
								]
							}
						]
					},
					{
						label: "Banana",
						value: "banana",
						items: [
							{
								label: "Cookie",
								value: "cookie",
								items: [
									{
										label: "Donut",
										value: "donut",
										items: [
											{
												label: "Donut",
												value: "donut",
												items: null
											}
										]
									}
								]
							},
							{
								label: "Eggroll",
								value: "eggroll",
								items: [
									{
										label: "Donut",
										value: "donut",
										items: null
									}
								]
							}
						]
					}
				], true)
			});
		</script>
	</body>
</html>
